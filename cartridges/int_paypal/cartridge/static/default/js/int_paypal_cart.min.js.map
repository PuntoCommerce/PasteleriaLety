{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./cartridges/int_paypal/cartridge/client/default/js/api.js","webpack:///./cartridges/int_paypal/cartridge/client/default/js/cart/cart.js","webpack:///./cartridges/int_paypal/cartridge/client/default/js/cart/initCartButton.js","webpack:///./cartridges/int_paypal/cartridge/client/default/js/cart/registered/initBillingAgreementButton.js","webpack:///./cartridges/int_paypal/cartridge/client/default/js/helper.js","webpack:///./cartridges/int_paypal/cartridge/client/default/js/loader.js"],"names":["loaderInstance","require","$loaderContainer","document","querySelector","loader","showCartErrorHtml","message","$","addClass","append","window","scrollTo","showCheckoutErrorHtml","textContent","style","display","updateOrderData","show","ajax","url","paypalUrls","type","success","hide","location","href","placeOrderStage","error","err","JSON","parse","responseText","errorMsg","transactionExpired","reload","getPurchaseUnits","get","getPurchaseUnit","then","purchase_units","getBillingAgreementToken","isCartFlow","createBillingAgreementToken","data","createBillingAgreementCall","billingToken","createBillingAgreement","contentType","stringify","createCartBillingFormData","fieldsData","$paypalButton","cartBillingFormData","FormData","cartBillingFields","getAttribute","Object","entries","forEach","entry","key","field","name","value","returnFromCart","processData","finishLpmOrder","details","lpmName","paypalMethodId","$paypalImage","$cartButton","$isBAEnabled","injectPaypalSDK","head","getElementsByTagName","item","script","createElement","onload","initPaypalBAButton","initPaypalButton","src","cartSdkUrl","setAttribute","partnerAttributionId","appendChild","isUpdateRequired","addEventListener","paypal","usedPaymentMethod","onClick","fundingSource","createOrder","_","actions","getCartPurchaseUnit","parsedPurchaseUnit","amount","application_context","shipping_preference","order","create","onApprove","orderID","paypalOrderID","cartPage","onCancel","onError","Buttons","getPaypalButtonStyle","render","token","fail","id","payer","billingAgreementID","billingAgreementPayerEmail","payer_info","email","dataType","defaultStyle","color","shape","layout","label","tagline","button","config","buttonConfigs","createConfirmForm","param","form","appendTo","body","attr","method","action","orderToken","processLpmConfirmForm","redirectUrl","splitUrl","split","paramsString","searchParams","URLSearchParams","formParam","submit","module","exports","containerElement","Constructor","containerEl","prototype"],"mappings":"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","file":"int_paypal_cart.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./cartridges/int_paypal/cartridge/client/default/js/cart/cart.js\");\n","var loaderInstance = require('./loader');\r\nvar $loaderContainer = document.querySelector('.paypalLoader');\r\nvar loader = loaderInstance($loaderContainer);\r\n/**\r\n *  Appends error message on cart page\r\n *\r\n * @param {string} message error message\r\n */\r\nfunction showCartErrorHtml(message) {\r\n    $('.checkout-btn').addClass('disabled');\r\n    $('.cart-error').append(\r\n        `<div class=\"alert alert-danger alert-dismissible valid-cart-error fade show cartError\" role=\"alert\">\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n            ${message}\r\n        </div>`\r\n    );\r\n    window.scrollTo(0, 0);\r\n}\r\n\r\n/**\r\n *  Appends error message on billing checkout page\r\n *\r\n * @param {string} message error message\r\n */\r\nfunction showCheckoutErrorHtml(message) {\r\n    document.querySelector('.error-message-text').textContent = '';\r\n    document.querySelector('.error-message').style.display = 'block';\r\n    document.querySelector('.error-message-text').append(message);\r\n    window.scrollTo(0, 0);\r\n}\r\n\r\n/**\r\n * Updates information about an order\r\n *\r\n * @returns {Object} Call handling result\r\n */\r\nfunction updateOrderData() {\r\n    loader.show();\r\n    return $.ajax({\r\n        url: window.paypalUrls.updateOrderData + '?isCartFlow=true',\r\n        type: 'PATCH',\r\n        success: () => {\r\n            loader.hide();\r\n            window.location.href = window.paypalUrls.placeOrderStage;\r\n        },\r\n        error: (err) => {\r\n            loader.hide();\r\n            var error = JSON.parse(err.responseText);\r\n            showCartErrorHtml(error.errorMsg);\r\n            if (error.transactionExpired) {\r\n                location.reload();\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Gets purchase units\r\n *\r\n * @returns {Object} with purchase units data\r\n */\r\nfunction getPurchaseUnits() {\r\n    return $.get(window.paypalUrls.getPurchaseUnit)\r\n        .then(({ purchase_units }) => purchase_units);\r\n}\r\n\r\n/**\r\n * Gets Billing Agreement Token\r\n *\r\n * @param {boolean} isCartFlow - billing agreement flow from cart\r\n * @returns {string} billingToken - returns a JSON response that includes token, an approval URL\r\n */\r\nfunction getBillingAgreementToken(isCartFlow = false) {\r\n    return $.get(window.paypalUrls.createBillingAgreementToken + `?isCartFlow=${isCartFlow}`)\r\n        .then((data) => data);\r\n}\r\n\r\n/**\r\n * Gets Billing Agreement\r\n * After buyer approval, you use a billing agreement token to create the agreement.\r\n *\r\n * @param {string} billingToken - billing agreement token\r\n * @returns {Object} JSON response body that includes the billing agreement ID,\r\n * the state of the agreement, which is ACTIVE, and information about the payer\r\n */\r\nfunction createBillingAgreementCall(billingToken) {\r\n    return $.ajax({\r\n        url: window.paypalUrls.createBillingAgreement,\r\n        type: 'POST',\r\n        contentType: 'application/json',\r\n        data: JSON.stringify({ billingToken })\r\n    });\r\n}\r\n\r\n/**\r\n * Create billing formData from fields data\r\n *\r\n * @param {Object} fieldsData - fields data values\r\n * @param {Elemtn} $paypalButton - paypal button selector\r\n * @returns {Object} cart billing form data\r\n */\r\nfunction createCartBillingFormData(fieldsData, $paypalButton) {\r\n    var cartBillingFormData = new FormData();\r\n    if (!$paypalButton) {\r\n        $paypalButton = document.querySelector('#paypal_pdp_image') || document.querySelector('#paypal_image') || document.querySelector('#venmo_image');\r\n    }\r\n    var cartBillingFields = $paypalButton && JSON.parse($paypalButton.getAttribute('data-paypal-billing-form-fields'));\r\n\r\n    Object.entries(cartBillingFields).forEach(entry => {\r\n        const [key, field] = entry;\r\n        if (typeof field === 'object') {\r\n            cartBillingFormData.append(field.name, fieldsData && fieldsData[key] ? fieldsData[key] : field.value);\r\n        }\r\n    });\r\n\r\n    return cartBillingFormData;\r\n}\r\n\r\n/**\r\n * Calls to returnFromCart endpoint, redirects to place order stage or shows error if it exists\r\n *\r\n * @returns {Object} Call handling result\r\n */\r\nfunction returnFromCart() {\r\n    loader.show();\r\n    let cartBillingFormData = createCartBillingFormData();\r\n\r\n    return $.ajax({\r\n        url: window.paypalUrls.returnFromCart,\r\n        type: 'POST',\r\n        contentType: false,\r\n        data: cartBillingFormData,\r\n        processData: false,\r\n        success: () => {\r\n            loader.hide();\r\n            window.location.href = window.paypalUrls.placeOrderStage;\r\n        },\r\n        error: function (err) {\r\n            loader.hide();\r\n            showCartErrorHtml(err.responseText);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Call finishLpmOrder endpoint\r\n * @param  {Object} details billing address details\r\n * @returns {Promise} ajax call\r\n */\r\nfunction finishLpmOrder(details) {\r\n    const lpmName = document.querySelector('#usedPaymentMethod').value;\r\n    const paypalMethodId = document.querySelector('#paypalMethodId').value;\r\n    return $.ajax({\r\n        url: window.paypalUrls.finishLpmOrder,\r\n        type: 'POST',\r\n        contentType: 'application/json',\r\n        data: JSON.stringify({\r\n            details,\r\n            lpmName,\r\n            paypalMethodId\r\n        })\r\n    });\r\n}\r\n\r\nexport {\r\n    updateOrderData,\r\n    getPurchaseUnits,\r\n    getBillingAgreementToken,\r\n    createBillingAgreementCall,\r\n    returnFromCart,\r\n    showCartErrorHtml,\r\n    showCheckoutErrorHtml,\r\n    finishLpmOrder,\r\n    createCartBillingFormData\r\n};\r\n","/* eslint-disable no-nested-ternary */\r\nimport initPaypalButton from './initCartButton';\r\nimport initPaypalBAButton from './registered/initBillingAgreementButton';\r\nimport { updateOrderData, returnFromCart } from '../api';\r\n\r\nlet $paypalImage = document.querySelector('#paypal_image') || document.querySelector('#venmo_image');\r\nlet $cartButton = document.querySelector('.js_paypal_button_on_cart_page');\r\nlet $isBAEnabled = $cartButton && JSON.parse($cartButton.getAttribute('data-paypal-ba-enabled'));\r\nconst paypalUrls = document.querySelector('.js_paypal-content').getAttribute('data-paypal-urls');\r\nwindow.paypalUrls = JSON.parse(paypalUrls);\r\n\r\n/**\r\n * Injects SDK into page for cart/minicart\r\n*/\r\nfunction injectPaypalSDK() {\r\n    var head = document.getElementsByTagName('head').item(0);\r\n    var script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.onload = function () {\r\n        $isBAEnabled ?\r\n            initPaypalBAButton() :\r\n            initPaypalButton();\r\n    };\r\n    script.src = window.paypalUrls.cartSdkUrl;\r\n    script.setAttribute('data-partner-attribution-id', window.paypalUrls.partnerAttributionId);\r\n    head.appendChild(script);\r\n}\r\n\r\nif ($paypalImage) {\r\n    let isUpdateRequired = JSON.parse($paypalImage.getAttribute('data-is-update-required'));\r\n    $paypalImage.addEventListener('click', isUpdateRequired ? updateOrderData : returnFromCart);\r\n} else {\r\n    // We do not inject SDK if SDK is already injected and window.paypal exists to avoid PayPal components destroying\r\n    window.paypal ? ($isBAEnabled ?\r\n        initPaypalBAButton() :\r\n        initPaypalButton()) : injectPaypalSDK();\r\n}\r\n","import {\r\n    showCartErrorHtml,\r\n    createCartBillingFormData\r\n} from '../api';\r\nimport {\r\n    getPaypalButtonStyle\r\n} from '../helper';\r\n\r\nvar loaderInstance = require('../loader');\r\nvar $loaderContainer = document.querySelector('.paypalLoader');\r\nvar loader = loaderInstance($loaderContainer);\r\nvar usedPaymentMethod;\r\n\r\n/**\r\n * Saves used payment method to variable\r\n *\r\n * @param {Object} data - object with data\r\n */\r\nfunction onClick(data) {\r\n    if (data.fundingSource === 'venmo') {\r\n        usedPaymentMethod = 'Venmo';\r\n    }\r\n}\r\n\r\n/**\r\n *  Gets purchase units object, creates order and returns object with data\r\n *\r\n * @param {Object} _ - arg\r\n * @param {Object} actions - paypal actions\r\n * @returns {Object} with purchase units data and application context\r\n */\r\nfunction createOrder(_, actions) {\r\n    loader.show();\r\n    return $\r\n        .get(window.paypalUrls.getCartPurchaseUnit)\r\n        .then(function ({ purchase_units }) {\r\n            let parsedPurchaseUnit = purchase_units[0];\r\n            if (JSON.parse(parsedPurchaseUnit.amount.value) === 0) {\r\n                showCartErrorHtml('Order total 0 is not allowed for PayPal');\r\n            }\r\n            const application_context = {\r\n                shipping_preference: parsedPurchaseUnit.shipping_preference\r\n            };\r\n            loader.hide();\r\n            return actions.order.create({\r\n                purchase_units,\r\n                application_context\r\n            });\r\n        });\r\n}\r\n\r\n/**\r\n *  Makes post call and transfers order ID to returnFromCart endpoint, goes to checkout place order stage\r\n *\r\n * @param {Object} orderID - order id\r\n */\r\nfunction onApprove({ orderID }) {\r\n    let cartBillingFormData = createCartBillingFormData({\r\n        paypalOrderID: orderID,\r\n        usedPaymentMethod: usedPaymentMethod\r\n    }, document.querySelector('.js_paypal_button_on_cart_page'));\r\n\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: window.paypalUrls.returnFromCart,\r\n        contentType: false,\r\n        data: cartBillingFormData,\r\n        processData: false,\r\n        success: () => {\r\n            loader.hide();\r\n            window.location.href = window.paypalUrls.placeOrderStage;\r\n        },\r\n        error: function () {\r\n            loader.hide();\r\n            if (window.location.href !== window.paypalUrls.cartPage) {\r\n                window.location.href = window.paypalUrls.cartPage;\r\n            }\r\n            if (!document.querySelector('.cartError')) {\r\n                showCartErrorHtml('An internal server error has occurred. \\r\\nRetry the request later.');\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Hides loader on paypal widget closing without errors\r\n */\r\nfunction onCancel() {\r\n    loader.hide();\r\n}\r\n\r\n/**\r\n * Shows errors if paypal widget was closed with errors\r\n */\r\nfunction onError() {\r\n    loader.hide();\r\n    if (window.location.href !== window.paypalUrls.cartPage) {\r\n        window.location.href = window.paypalUrls.cartPage;\r\n    }\r\n    if (!document.querySelector('.cartError')) {\r\n        showCartErrorHtml('An internal server error has occurred. \\r\\nRetry the request later.');\r\n    }\r\n}\r\n\r\n/**\r\n *Inits paypal button on cart page\r\n */\r\nfunction initPaypalButton() {\r\n    loader.show();\r\n    window.paypal.Buttons({\r\n        onClick,\r\n        createOrder,\r\n        onApprove,\r\n        onCancel,\r\n        onError,\r\n        style: getPaypalButtonStyle(document.querySelector('.js_paypal_button_on_cart_page'))\r\n    }).render('.paypal-cart-button')\r\n        .then(() => {\r\n            loader.hide();\r\n        });\r\n}\r\n\r\nexport default initPaypalButton;\r\n","import {\r\n    getBillingAgreementToken,\r\n    createBillingAgreementCall,\r\n    showCartErrorHtml,\r\n    createCartBillingFormData\r\n} from '../../api';\r\nimport {\r\n    getPaypalButtonStyle\r\n} from '../../helper';\r\n\r\nconst loaderInstance = require('../../loader');\r\nlet $loaderContainer = document.querySelector('.paypalLoader');\r\nlet loader = loaderInstance($loaderContainer);\r\n\r\n/**\r\n *  Create's Billing Agreement\r\n *\r\n * @returns {string} returns JSON response that includes an data token\r\n */\r\nfunction createBillingAgreement() {\r\n    loader.show();\r\n    let isCartFlow = true;\r\n    return getBillingAgreementToken(isCartFlow)\r\n        .then((data) => data.token)\r\n        .fail(() => {\r\n            loader.hide();\r\n        });\r\n}\r\n\r\n/**\r\n *  Makes post call and transfers billingToken to returnFromCart endpoint, triggers checkout (stage = place order)\r\n *\r\n * @param {string} billingToken - billing agreement token\r\n * @returns {Object} JSON response that includes the billing agreement ID and information about the payer\r\n */\r\nfunction onApprove({ billingToken }) {\r\n    return createBillingAgreementCall(billingToken)\r\n        .then(({ id, payer }) => {\r\n            let cartBillingFormData = createCartBillingFormData({\r\n                billingAgreementID: id,\r\n                billingAgreementPayerEmail: payer.payer_info.email\r\n            }, document.querySelector('.js_paypal_button_on_cart_page'));\r\n\r\n            return $.ajax({\r\n                type: 'POST',\r\n                url: window.paypalUrls.returnFromCart,\r\n                data: cartBillingFormData,\r\n                contentType: false,\r\n                processData: false,\r\n                dataType: 'json'\r\n            });\r\n        })\r\n        .then(() => {\r\n            loader.hide();\r\n            window.location.href = window.paypalUrls.placeOrderStage;\r\n        })\r\n        .fail((err) => {\r\n            loader.hide();\r\n            if (window.location.href !== window.paypalUrls.cartPage) {\r\n                window.location.href = window.paypalUrls.cartPage;\r\n            }\r\n            showCartErrorHtml(err.responseText);\r\n        });\r\n}\r\n\r\n/**\r\n * Hides loader on paypal widget closing without errors\r\n */\r\nfunction onCancel() {\r\n    loader.hide();\r\n}\r\n\r\n/**\r\n * Shows errors if paypal widget was closed with errors\r\n */\r\nfunction onError() {\r\n    loader.hide();\r\n    if (window.location.href !== window.paypalUrls.cartPage) {\r\n        window.location.href = window.paypalUrls.cartPage;\r\n    }\r\n    showCartErrorHtml('An internal server error has occurred. \\r\\nRetry the request later.');\r\n}\r\n\r\n/**\r\n *Inits paypal Billing Agreement button on billing checkout page\r\n */\r\nfunction initPaypalBAButton() {\r\n    loader.show();\r\n    window.paypal.Buttons({\r\n        createBillingAgreement,\r\n        onApprove,\r\n        onCancel,\r\n        onError,\r\n        style: getPaypalButtonStyle(document.querySelector('.js_paypal_button_on_cart_page'))\r\n    }).render('.paypal-cart-button')\r\n        .then(() => {\r\n            loader.hide();\r\n        });\r\n}\r\n\r\nexport default initPaypalBAButton;\r\n","const defaultStyle = {\r\n    color: 'gold',\r\n    shape: 'rect',\r\n    layout: 'vertical',\r\n    label: 'paypal',\r\n    tagline: false\r\n};\r\n\r\n/**\r\n *  Gets paypal button styles\r\n * @param {Element} button - button element\r\n * @returns {Object} with button styles or if error appears with default styles\r\n */\r\nfunction getPaypalButtonStyle(button) {\r\n    try {\r\n        const config = button.getAttribute('data-paypal-button-config');\r\n        if (config) {\r\n            const buttonConfigs = JSON.parse(config);\r\n            return buttonConfigs.style;\r\n        }\r\n    } catch (error) {\r\n        return {\r\n            style: defaultStyle\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Creates a redirecting form to Order-Confirm endpoint\r\n * @param {Object} param  The helping object for creating a from\r\n * @returns {Object} form element\r\n */\r\nfunction createConfirmForm(param) {\r\n    var form = $('<form>')\r\n        .appendTo(document.body)\r\n        .attr({\r\n            method: 'POST',\r\n            action: param.url\r\n        });\r\n\r\n    $('<input>')\r\n        .appendTo(form)\r\n        .attr({\r\n            name: 'orderID',\r\n            value: param.orderID\r\n        });\r\n\r\n    $('<input>')\r\n        .appendTo(form)\r\n        .attr({\r\n            name: 'orderToken',\r\n            value: param.orderToken\r\n        });\r\n\r\n    return form;\r\n}\r\n\r\n/**\r\n * Prepare and submits form in order to confirm order with Lpm\r\n * @param {string} redirectUrl Redirect Url\r\n */\r\nfunction processLpmConfirmForm(redirectUrl) {\r\n    var splitUrl = redirectUrl.split('?');\r\n    var url = splitUrl[0];\r\n    var paramsString = splitUrl[1];\r\n    var searchParams = new URLSearchParams(paramsString);\r\n    var formParam = {\r\n        orderID: searchParams.get('orderID'),\r\n        orderToken: searchParams.get('orderToken'),\r\n        url: url\r\n    };\r\n    var form = createConfirmForm(formParam);\r\n\r\n    form.submit();\r\n}\r\n\r\nexport {\r\n    getPaypalButtonStyle,\r\n    processLpmConfirmForm\r\n};\r\n","/* eslint-disable require-jsdoc */\r\nmodule.exports = function (containerElement) {\r\n    function Constructor() {\r\n        this.containerEl = containerElement;\r\n    }\r\n    Constructor.prototype.show = function () {\r\n        this.containerEl.style.display = 'block';\r\n    };\r\n    Constructor.prototype.hide = function () {\r\n        this.containerEl.style.display = 'none';\r\n    };\r\n    return new Constructor();\r\n};\r\n"],"sourceRoot":""}